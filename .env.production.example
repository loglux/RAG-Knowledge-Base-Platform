# Production Environment Variables Template
# Copy this file to .env.production and fill in your values
# Usage: docker-compose -f docker-compose.production.yml --env-file .env.production up -d

# ============================================================================
# Application Settings
# ============================================================================

# Environment
ENVIRONMENT=production
LOG_LEVEL=INFO

# Ports
FRONTEND_PORT=5174
BACKEND_PORT=8004

# ============================================================================
# Security (REQUIRED - Generate secure values!)
# ============================================================================

# Secret key for JWT tokens and encryption
# Generate with: openssl rand -hex 32
SECRET_KEY=CHANGE_THIS_TO_RANDOM_64_CHAR_HEX_STRING

# ============================================================================
# Database (PostgreSQL)
# ============================================================================

POSTGRES_USER=kb_user
POSTGRES_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD
POSTGRES_DB=knowledge_base

# ============================================================================
# LLM Providers (At least one required)
# ============================================================================

# OpenAI (Default provider)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic (Optional)
ANTHROPIC_API_KEY=

# Voyage AI (Optional - for embeddings)
VOYAGE_API_KEY=

# Ollama (Optional - for local models)
# If using Ollama in separate container or host
OLLAMA_BASE_URL=

# ============================================================================
# OpenSearch
# ============================================================================

# Admin password for OpenSearch
# Must contain at least one uppercase, lowercase, digit, and special character
# Minimum 8 characters
OPENSEARCH_PASSWORD=Admin123!ChangeMe

# ============================================================================
# CORS Settings
# ============================================================================

# Comma-separated list of allowed origins
# For production, set to your actual domains
CORS_ORIGINS=http://localhost:5174,https://yourdomain.com

# ============================================================================
# Optional: Feature Flags
# ============================================================================

ENABLE_ASYNC_PROCESSING=true
ENABLE_CACHE=false
ENABLE_METRICS=false

# ============================================================================
# Optional: Advanced Settings
# ============================================================================

# Chunk settings (defaults)
MAX_CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# File upload limits
MAX_FILE_SIZE_MB=50

# Rate limiting for structure analysis
STRUCTURE_ANALYSIS_REQUESTS_PER_MINUTE=10

# ============================================================================
# Notes
# ============================================================================
#
# IMPORTANT SECURITY NOTES:
# 1. Never commit .env.production to version control
# 2. Generate strong random values for SECRET_KEY and passwords
# 3. Use different credentials for each environment
# 4. Rotate secrets regularly in production
#
# GENERATE SECURE SECRETS:
# - SECRET_KEY: openssl rand -hex 32
# - Passwords: openssl rand -base64 24
#
# BACKUP CONSIDERATIONS:
# - Keep encrypted backup of this file
# - Store in secure location (password manager, vault)
# - Document password rotation procedure
#
